2025-07-23 15:32:50 [ERROR]: Contact with ID l4y1d2ztsqbcvrjh4u2oytzt not found after update. 
2025-08-22 00:38:21 [ERROR]: Error creating campaign: %o 
2025-08-22 00:39:22 [ERROR]: Error creating campaign: %o 
2025-08-22 00:40:46 [ERROR]: Error creating campaign: %o 
2025-08-22 00:41:39 [ERROR]: [object Object] 
2025-08-22 00:42:49 [ERROR]: An unexpected error occurred during campaign creation {"error":{"name":"TypeError","message":"db.insert(...).values(...).returning is not a function","stack":"TypeError: db.insert(...).values(...).returning is not a function\n    at createCampaign (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__3c520e5b._.js:393:217)\n    at createCampaignAndSendMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__3c520e5b._.js:688:188)\n    at createCampaign (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__3c520e5b._.js:761:209)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async POST (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__3c520e5b._.js:813:12)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"},"requestBody":{"name":"Test","templateId":"5","contactIds":["mjoiumh6sgf5ap23jjknpaf5","dgq4kfkon1iwymse6yem0dig","bokqzuy9vsmrcna2gvwu6lrs","nlxfbymjnb7i70zkrsey951m"]}}
2025-08-22 00:55:57 [ERROR]: An unexpected error occurred during campaign creation {"error":{"name":"TypeError","message":"Cannot read properties of undefined (reading 'id')","stack":"TypeError: Cannot read properties of undefined (reading 'id')\n    at createCampaignAndSendMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__3c520e5b._.js:725:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createCampaign (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__3c520e5b._.js:766:26)\n    at async POST (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__3c520e5b._.js:818:12)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"},"requestBody":{"name":"Test 02","templateId":"5","contactIds":["nlxfbymjnb7i70zkrsey951m","bokqzuy9vsmrcna2gvwu6lrs","dgq4kfkon1iwymse6yem0dig","sn8lyy4nn8oovk5dahezdo24","mjoiumh6sgf5ap23jjknpaf5"]}}
2025-08-22 01:37:38 [ERROR]: An unexpected error occurred during campaign creation {"error":{"name":"Error","message":"Failed to find newly created message with id 0","stack":"Error: Failed to find newly created message with id 0\n    at createMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__3c520e5b._.js:409:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createCampaignAndSendMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__3c520e5b._.js:748:13)\n    at async createCampaign (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__3c520e5b._.js:791:26)\n    at async POST (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__3c520e5b._.js:843:12)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"},"requestBody":{"name":"Test 03","templateId":"5","contactIds":["a1d960iq4m2zk8358giy0tas","bokqzuy9vsmrcna2gvwu6lrs","dgq4kfkon1iwymse6yem0dig"],"templateVariables":{"{{1}}":"Contact name"}}}
2025-09-18 21:30:39 [ERROR]: Error fetching chats: jwt expired {"name":"TokenExpiredError","expiredAt":"2025-09-16T14:34:52.000Z","stack":"TokenExpiredError: jwt expired\n    at C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_3af13689._.js:5779:29\n    at getSecret (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_3af13689._.js:5699:20)\n    at module.exports.[project]/node_modules/jsonwebtoken/verify.js [app-route] (ecmascript).module.exports [as verify] (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_3af13689._.js:5702:12)\n    at ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:785:173)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:809:27)\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:80:14)\n    at AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34191)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43872\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:169:36\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NoopTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\ProxyTracer.js:36:24)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:103\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NextTracerImpl.trace (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:28)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43733\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41457\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41414\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41368)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)"}
2025-09-18 21:30:58 [ERROR]: Error fetching chats: jwt expired {"name":"TokenExpiredError","expiredAt":"2025-09-16T14:34:52.000Z","stack":"TokenExpiredError: jwt expired\n    at C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_3af13689._.js:5779:29\n    at getSecret (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_3af13689._.js:5699:20)\n    at module.exports.[project]/node_modules/jsonwebtoken/verify.js [app-route] (ecmascript).module.exports [as verify] (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_3af13689._.js:5702:12)\n    at ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:785:173)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:809:27)\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:80:14)\n    at AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34191)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43872\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:169:36\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NoopTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\ProxyTracer.js:36:24)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:103\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NextTracerImpl.trace (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:28)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43733\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41457\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41414\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41368)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)"}
2025-09-18 21:38:54 [ERROR]: Error sending message: Value is not JSON serializable {"stack":"TypeError: Value is not JSON serializable\n    at serializeJavascriptValueToJSONString (node:internal/deps/undici/undici:4460:15)\n    at Response.json (node:internal/deps/undici/undici:9092:11)\n    at NextResponse.json (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_next_5399fd8c._.js:7877:35)\n    at MessageController.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:833:165)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-09-18 21:39:00 [ERROR]: Error sending message: Value is not JSON serializable {"stack":"TypeError: Value is not JSON serializable\n    at serializeJavascriptValueToJSONString (node:internal/deps/undici/undici:4460:15)\n    at Response.json (node:internal/deps/undici/undici:9092:11)\n    at NextResponse.json (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_next_5399fd8c._.js:7877:35)\n    at MessageController.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:833:165)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-09-18 22:23:38 [ERROR]: Error fetching chats: Failed query: select `chats`.`id`, `chats`.`contact_id`, `chats`.`assigned_to`, `chats`.`status`, `chats`.`last_user_message_at`, `chats`.`created_at`, `chats`.`updated_at`, `chats_contact`.`data` as `contact`, `chats_user`.`data` as `user` from `chats` `chats` left join lateral (select json_array(`chats_contact`.`contact_id`, `chats_contact`.`name`, `chats_contact`.`phonenumber`, `chats_contact`.`email`, `chats_contact`.`label`, `chats_contact`.`assigned_to_user_id`, `chats_contact`.`created_at`, `chats_contact`.`updated_at`) as `data` from (select * from `contacts` `chats_contact` where `chats_contact`.`contact_id` = `chats`.`contact_id` limit ?) `chats_contact`) `chats_contact` on true left join lateral (select json_array(`chats_user`.`id`, `chats_user`.`name`, `chats_user`.`email`, `chats_user`.`password`, `chats_user`.`role`, `chats_user`.`last_login_at`, `chats_user`.`created_at`, `chats_user`.`updated_at`) as `data` from (select * from `users` `chats_user` where `chats_user`.`id` = `chats`.`assigned_to` limit ?) `chats_user`) `chats_user` on true
params: 1,1 {"query":"select `chats`.`id`, `chats`.`contact_id`, `chats`.`assigned_to`, `chats`.`status`, `chats`.`last_user_message_at`, `chats`.`created_at`, `chats`.`updated_at`, `chats_contact`.`data` as `contact`, `chats_user`.`data` as `user` from `chats` `chats` left join lateral (select json_array(`chats_contact`.`contact_id`, `chats_contact`.`name`, `chats_contact`.`phonenumber`, `chats_contact`.`email`, `chats_contact`.`label`, `chats_contact`.`assigned_to_user_id`, `chats_contact`.`created_at`, `chats_contact`.`updated_at`) as `data` from (select * from `contacts` `chats_contact` where `chats_contact`.`contact_id` = `chats`.`contact_id` limit ?) `chats_contact`) `chats_contact` on true left join lateral (select json_array(`chats_user`.`id`, `chats_user`.`name`, `chats_user`.`email`, `chats_user`.`password`, `chats_user`.`role`, `chats_user`.`last_login_at`, `chats_user`.`created_at`, `chats_user`.`updated_at`) as `data` from (select * from `users` `chats_user` where `chats_user`.`id` = `chats`.`assigned_to` limit ?) `chats_user`) `chats_user` on true","params":[1,1],"cause":{"message":"Unknown column 'chats.last_user_message_at' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chats`.`id`, `chats`.`contact_id`, `chats`.`assigned_to`, `chats`.`status`, `chats`.`last_user_message_at`, `chats`.`created_at`, `chats`.`updated_at`, `chats_contact`.`data` as `contact`, `chats_user`.`data` as `user` from `chats` `chats` left join lateral (select json_array(`chats_contact`.`contact_id`, `chats_contact`.`name`, `chats_contact`.`phonenumber`, `chats_contact`.`email`, `chats_contact`.`label`, `chats_contact`.`assigned_to_user_id`, `chats_contact`.`created_at`, `chats_contact`.`updated_at`) as `data` from (select * from `contacts` `chats_contact` where `chats_contact`.`contact_id` = `chats`.`contact_id` limit 1) `chats_contact`) `chats_contact` on true left join lateral (select json_array(`chats_user`.`id`, `chats_user`.`name`, `chats_user`.`email`, `chats_user`.`password`, `chats_user`.`role`, `chats_user`.`last_login_at`, `chats_user`.`created_at`, `chats_user`.`updated_at`) as `data` from (select * from `users` `chats_user` where `chats_user`.`id` = `chats`.`assigned_to` limit 1) `chats_user`) `chats_user` on true","sqlState":"42S22","sqlMessage":"Unknown column 'chats.last_user_message_at' in 'field list'"},"stack":"Error: Failed query: select `chats`.`id`, `chats`.`contact_id`, `chats`.`assigned_to`, `chats`.`status`, `chats`.`last_user_message_at`, `chats`.`created_at`, `chats`.`updated_at`, `chats_contact`.`data` as `contact`, `chats_user`.`data` as `user` from `chats` `chats` left join lateral (select json_array(`chats_contact`.`contact_id`, `chats_contact`.`name`, `chats_contact`.`phonenumber`, `chats_contact`.`email`, `chats_contact`.`label`, `chats_contact`.`assigned_to_user_id`, `chats_contact`.`created_at`, `chats_contact`.`updated_at`) as `data` from (select * from `contacts` `chats_contact` where `chats_contact`.`contact_id` = `chats`.`contact_id` limit ?) `chats_contact`) `chats_contact` on true left join lateral (select json_array(`chats_user`.`id`, `chats_user`.`name`, `chats_user`.`email`, `chats_user`.`password`, `chats_user`.`role`, `chats_user`.`last_login_at`, `chats_user`.`created_at`, `chats_user`.`updated_at`) as `data` from (select * from `users` `chats_user` where `chats_user`.`id` = `chats`.`assigned_to` limit ?) `chats_user`) `chats_user` on true\nparams: 1,1\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_a05e6a3b._.js:9341:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_a05e6a3b._.js:9533:24)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:641:24)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:697:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:810:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-09-18 22:35:50 [ERROR]: Error fetching chats: jwt expired {"name":"TokenExpiredError","expiredAt":"2025-09-18T17:05:26.000Z","stack":"TokenExpiredError: jwt expired\n    at C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7657:29\n    at getSecret (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7577:20)\n    at module.exports.[project]/node_modules/jsonwebtoken/verify.js [app-route] (ecmascript).module.exports [as verify] (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7580:12)\n    at ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:809:173)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:833:27)\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:80:14)\n    at AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34191)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43872\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:169:36\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NoopTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\ProxyTracer.js:36:24)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:103\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NextTracerImpl.trace (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:28)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43733\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41457\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41414\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41368)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)"}
2025-09-18 22:37:08 [ERROR]: WhatsApp API Error: 
2025-09-20 18:30:20 [ERROR]: Error fetching dashboard data: %o 
2025-09-20 18:30:20 [ERROR]: Error fetching dashboard data: %o 
2025-10-02 17:06:22 [ERROR]: Error fetching dashboard data: %o 
2025-10-02 17:06:32 [ERROR]: Error fetching dashboard data: %o 
2025-10-02 17:32:20 [ERROR]: Error fetching dashboard data: %o 
2025-10-02 17:32:21 [ERROR]: Error fetching dashboard data: %o 
2025-10-02 17:39:11 [ERROR]: Error fetching analytics: %o 
2025-10-02 17:39:12 [ERROR]: Error fetching analytics: %o 
2025-10-02 17:39:30 [ERROR]: Error fetching chats: secret or public key must be provided {"name":"JsonWebTokenError","stack":"JsonWebTokenError: secret or public key must be provided\n    at C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_3af13689._.js:5711:25\n    at getSecret (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_3af13689._.js:5699:20)\n    at module.exports.[project]/node_modules/jsonwebtoken/verify.js [app-route] (ecmascript).module.exports [as verify] (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_3af13689._.js:5702:12)\n    at ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:809:173)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:833:27)\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:80:14)\n    at AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34191)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43872\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:169:36\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NoopTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\ProxyTracer.js:36:24)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:103\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NextTracerImpl.trace (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:28)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43733\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41457\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41414\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41368)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)"}
2025-10-02 19:58:36 [ERROR]: Error fetching chats: Failed query: select `id`, `chat_id`, `content`, `direction`, `timestamp`, `created_at`, `updated_at` from `chat_messages` `chatMessages` where `chatMessages`.`chat_id` = ? order by `chatMessages`.`timestamp` desc limit ?
params: y3jc32a69hnk3vt6hbyfov7n,1 {"query":"select `id`, `chat_id`, `content`, `direction`, `timestamp`, `created_at`, `updated_at` from `chat_messages` `chatMessages` where `chatMessages`.`chat_id` = ? order by `chatMessages`.`timestamp` desc limit ?","params":["y3jc32a69hnk3vt6hbyfov7n",1],"cause":{"message":"read ECONNRESET","code":"ECONNRESET","errno":-4077},"stack":"Error: Failed query: select `id`, `chat_id`, `content`, `direction`, `timestamp`, `created_at`, `updated_at` from `chat_messages` `chatMessages` where `chatMessages`.`chat_id` = ? order by `chatMessages`.`timestamp` desc limit ?\nparams: y3jc32a69hnk3vt6hbyfov7n,1\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_a05e6a3b._.js:9341:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_a05e6a3b._.js:9533:24)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:649:33\n    at async Promise.all (index 3)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:648:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:697:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:810:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-10-03 12:07:41 [ERROR]: Error fetching chats: jwt expired {"name":"TokenExpiredError","expiredAt":"2025-10-02T15:32:40.000Z","stack":"TokenExpiredError: jwt expired\n    at C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\3205.js:1:40815\n    at b (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\3205.js:1:39254)\n    at e.exports [as verify] (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\3205.js:1:39272)\n    at p.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\app\\api\\chats\\route.js:1:1463)\n    at f (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\app\\api\\chats\\route.js:1:1717)\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:80:14)\n    at tf.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.prod.js:18:18864)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.prod.js:18:25397\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:169:36\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)"}
2025-10-03 12:07:51 [ERROR]: Error fetching chats: jwt expired {"name":"TokenExpiredError","expiredAt":"2025-10-02T15:32:40.000Z","stack":"TokenExpiredError: jwt expired\n    at C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\3205.js:1:40815\n    at b (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\3205.js:1:39254)\n    at e.exports [as verify] (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\3205.js:1:39272)\n    at p.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\app\\api\\chats\\route.js:1:1463)\n    at f (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\app\\api\\chats\\route.js:1:1717)\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:80:14)\n    at tf.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.prod.js:18:18864)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.prod.js:18:25397\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:169:36\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)"}
2025-10-03 15:09:37 [ERROR]: Error fetching chats: jwt expired {"name":"TokenExpiredError","expiredAt":"2025-10-03T08:56:14.000Z","stack":"TokenExpiredError: jwt expired\n    at C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\3205.js:1:40815\n    at b (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\3205.js:1:39254)\n    at e.exports [as verify] (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\3205.js:1:39272)\n    at p.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\app\\api\\chats\\route.js:1:1463)\n    at f (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\app\\api\\chats\\route.js:1:1717)\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:80:14)\n    at tf.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.prod.js:18:18864)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.prod.js:18:25397\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:169:36\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)"}
2025-10-04 13:36:29 [ERROR]: Error fetching chats: jwt expired {"name":"TokenExpiredError","expiredAt":"2025-10-02T15:20:26.000Z","stack":"TokenExpiredError: jwt expired\n    at C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7657:29\n    at getSecret (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7577:20)\n    at module.exports.[project]/node_modules/jsonwebtoken/verify.js [app-route] (ecmascript).module.exports [as verify] (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7580:12)\n    at ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:812:173)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:836:27)\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:80:14)\n    at AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34191)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43872\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:169:36\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NoopTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\ProxyTracer.js:36:24)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:103\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NextTracerImpl.trace (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:28)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43733\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41457\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41414\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41368)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)"}
2025-10-04 13:36:34 [ERROR]: Error fetching chats: jwt expired {"name":"TokenExpiredError","expiredAt":"2025-10-02T15:20:26.000Z","stack":"TokenExpiredError: jwt expired\n    at C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7657:29\n    at getSecret (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7577:20)\n    at module.exports.[project]/node_modules/jsonwebtoken/verify.js [app-route] (ecmascript).module.exports [as verify] (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7580:12)\n    at ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:812:173)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:836:27)\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:80:14)\n    at AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34191)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43872\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:169:36\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NoopTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\ProxyTracer.js:36:24)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:103\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NextTracerImpl.trace (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:28)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43733\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41457\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41414\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41368)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)"}
2025-10-04 13:36:44 [ERROR]: Error fetching chats: jwt expired {"name":"TokenExpiredError","expiredAt":"2025-10-02T15:20:26.000Z","stack":"TokenExpiredError: jwt expired\n    at C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7657:29\n    at getSecret (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7577:20)\n    at module.exports.[project]/node_modules/jsonwebtoken/verify.js [app-route] (ecmascript).module.exports [as verify] (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7580:12)\n    at ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:812:173)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:836:27)\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:80:14)\n    at AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34191)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43872\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:169:36\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NoopTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\ProxyTracer.js:36:24)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:103\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NextTracerImpl.trace (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:28)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43733\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41457\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41414\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41368)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)"}
2025-10-04 13:37:30 [ERROR]: Error fetching chats: jwt expired {"name":"TokenExpiredError","expiredAt":"2025-10-02T15:20:26.000Z","stack":"TokenExpiredError: jwt expired\n    at C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7657:29\n    at getSecret (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7577:20)\n    at module.exports.[project]/node_modules/jsonwebtoken/verify.js [app-route] (ecmascript).module.exports [as verify] (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7580:12)\n    at ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:812:173)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:836:27)\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:80:14)\n    at AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34191)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43872\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:169:36\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NoopTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\ProxyTracer.js:36:24)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:103\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NextTracerImpl.trace (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:28)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43733\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41457\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41414\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41368)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)"}
2025-10-04 13:46:04 [ERROR]: Error fetching chats: jwt expired {"name":"TokenExpiredError","expiredAt":"2025-10-02T15:20:26.000Z","stack":"TokenExpiredError: jwt expired\n    at C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7657:29\n    at getSecret (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7577:20)\n    at module.exports.[project]/node_modules/jsonwebtoken/verify.js [app-route] (ecmascript).module.exports [as verify] (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7580:12)\n    at ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:812:173)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:836:27)\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:80:14)\n    at AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34191)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43872\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:169:36\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NoopTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\ProxyTracer.js:36:24)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:103\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NextTracerImpl.trace (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:28)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43733\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41457\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41414\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41368)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)"}
2025-10-04 13:46:09 [ERROR]: Error fetching chats: jwt expired {"name":"TokenExpiredError","expiredAt":"2025-10-02T15:20:26.000Z","stack":"TokenExpiredError: jwt expired\n    at C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7657:29\n    at getSecret (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7577:20)\n    at module.exports.[project]/node_modules/jsonwebtoken/verify.js [app-route] (ecmascript).module.exports [as verify] (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7580:12)\n    at ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:812:173)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:836:27)\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:80:14)\n    at AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34191)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43872\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:169:36\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NoopTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\ProxyTracer.js:36:24)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:103\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NextTracerImpl.trace (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:28)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43733\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41457\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41414\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41368)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)"}
2025-10-04 13:46:14 [ERROR]: Error fetching chats: jwt expired {"name":"TokenExpiredError","expiredAt":"2025-10-02T15:20:26.000Z","stack":"TokenExpiredError: jwt expired\n    at C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7657:29\n    at getSecret (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7577:20)\n    at module.exports.[project]/node_modules/jsonwebtoken/verify.js [app-route] (ecmascript).module.exports [as verify] (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7580:12)\n    at ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:812:173)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:836:27)\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:80:14)\n    at AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34191)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43872\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:169:36\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NoopTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\ProxyTracer.js:36:24)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:103\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NextTracerImpl.trace (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:28)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43733\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41457\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41414\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41368)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)"}
2025-10-04 13:46:20 [ERROR]: Error fetching chats: jwt expired {"name":"TokenExpiredError","expiredAt":"2025-10-02T15:20:26.000Z","stack":"TokenExpiredError: jwt expired\n    at C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7657:29\n    at getSecret (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7577:20)\n    at module.exports.[project]/node_modules/jsonwebtoken/verify.js [app-route] (ecmascript).module.exports [as verify] (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7580:12)\n    at ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:812:173)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:836:27)\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:80:14)\n    at AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34191)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43872\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:169:36\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NoopTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\ProxyTracer.js:36:24)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:103\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NextTracerImpl.trace (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:28)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43733\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41457\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41414\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41368)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)"}
2025-10-04 13:46:59 [ERROR]: Error fetching chats: jwt expired {"name":"TokenExpiredError","expiredAt":"2025-10-02T15:20:26.000Z","stack":"TokenExpiredError: jwt expired\n    at C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7657:29\n    at getSecret (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7577:20)\n    at module.exports.[project]/node_modules/jsonwebtoken/verify.js [app-route] (ecmascript).module.exports [as verify] (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_4fe4da19._.js:7580:12)\n    at ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:812:173)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:836:27)\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:80:14)\n    at AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34191)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43872\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:169:36\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NoopTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\trace\\ProxyTracer.js:36:24)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:103\n    at NoopContextManager.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\context\\NoopContextManager.js:25:19)\n    at ContextAPI.with (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\@opentelemetry\\api\\build\\src\\api\\context.js:60:46)\n    at NextTracerImpl.trace (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\trace\\tracer.js:151:28)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:43733\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41457\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41414\n    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)\n    at AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41368)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)"}
2025-11-16 16:11:12 [ERROR]: Error fetching chats: Failed query: select `id`, `chat_id`, `wamid`, `content`, `direction`, `message_timestamp`, `created_at`, `updated_at` from `chat_messages` `chatMessages` where `chatMessages`.`chat_id` = ? order by  desc limit ?
params: mxewqyc43pvz5dzjhfrdj1ea,1 {"query":"select `id`, `chat_id`, `wamid`, `content`, `direction`, `message_timestamp`, `created_at`, `updated_at` from `chat_messages` `chatMessages` where `chatMessages`.`chat_id` = ? order by  desc limit ?","params":["mxewqyc43pvz5dzjhfrdj1ea",1],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'desc limit 1' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select `id`, `chat_id`, `wamid`, `content`, `direction`, `message_timestamp`, `created_at`, `updated_at` from `chat_messages` `chatMessages` where `chatMessages`.`chat_id` = 'mxewqyc43pvz5dzjhfrdj1ea' order by  desc limit 1","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'desc limit 1' at line 1"},"stack":"Error: Failed query: select `id`, `chat_id`, `wamid`, `content`, `direction`, `message_timestamp`, `created_at`, `updated_at` from `chat_messages` `chatMessages` where `chatMessages`.`chat_id` = ? order by  desc limit ?\nparams: mxewqyc43pvz5dzjhfrdj1ea,1\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_a05e6a3b._.js:9341:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_a05e6a3b._.js:9533:24)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:655:33\n    at async Promise.all (index 4)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:654:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:703:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:810:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-16 16:11:17 [ERROR]: Error fetching chats: Failed query: select `id`, `chat_id`, `wamid`, `content`, `direction`, `message_timestamp`, `created_at`, `updated_at` from `chat_messages` `chatMessages` where `chatMessages`.`chat_id` = ? order by  desc limit ?
params: qnrht807888fouud3psfe5d6,1 {"query":"select `id`, `chat_id`, `wamid`, `content`, `direction`, `message_timestamp`, `created_at`, `updated_at` from `chat_messages` `chatMessages` where `chatMessages`.`chat_id` = ? order by  desc limit ?","params":["qnrht807888fouud3psfe5d6",1],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'desc limit 1' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select `id`, `chat_id`, `wamid`, `content`, `direction`, `message_timestamp`, `created_at`, `updated_at` from `chat_messages` `chatMessages` where `chatMessages`.`chat_id` = 'qnrht807888fouud3psfe5d6' order by  desc limit 1","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'desc limit 1' at line 1"},"stack":"Error: Failed query: select `id`, `chat_id`, `wamid`, `content`, `direction`, `message_timestamp`, `created_at`, `updated_at` from `chat_messages` `chatMessages` where `chatMessages`.`chat_id` = ? order by  desc limit ?\nparams: qnrht807888fouud3psfe5d6,1\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_a05e6a3b._.js:9341:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_a05e6a3b._.js:9533:24)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:655:33\n    at async Promise.all (index 6)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:654:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:703:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:810:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-16 16:11:38 [ERROR]: Error fetching chats: Failed query: select `id`, `chat_id`, `wamid`, `content`, `direction`, `message_timestamp`, `created_at`, `updated_at` from `chat_messages` `chatMessages` where `chatMessages`.`chat_id` = ? order by  desc limit ?
params: bdtgd3g8ewu6sre6zcgsqs0d,1 {"query":"select `id`, `chat_id`, `wamid`, `content`, `direction`, `message_timestamp`, `created_at`, `updated_at` from `chat_messages` `chatMessages` where `chatMessages`.`chat_id` = ? order by  desc limit ?","params":["bdtgd3g8ewu6sre6zcgsqs0d",1],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'desc limit 1' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select `id`, `chat_id`, `wamid`, `content`, `direction`, `message_timestamp`, `created_at`, `updated_at` from `chat_messages` `chatMessages` where `chatMessages`.`chat_id` = 'bdtgd3g8ewu6sre6zcgsqs0d' order by  desc limit 1","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'desc limit 1' at line 1"},"stack":"Error: Failed query: select `id`, `chat_id`, `wamid`, `content`, `direction`, `message_timestamp`, `created_at`, `updated_at` from `chat_messages` `chatMessages` where `chatMessages`.`chat_id` = ? order by  desc limit ?\nparams: bdtgd3g8ewu6sre6zcgsqs0d,1\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_a05e6a3b._.js:9341:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_a05e6a3b._.js:9533:24)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:655:33\n    at async Promise.all (index 1)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:654:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:703:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a85012ab._.js:810:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-16 16:21:10 [ERROR]: WhatsApp API Error: {"error":{"message":"Error validating access token: The session has been invalidated because the user changed their password or Facebook has changed the session for security reasons.","type":"OAuthException","code":190,"error_subcode":460,"fbtrace_id":"ANkv1q_WpFHZ8tK5M3-IQym"}}
2025-11-16 16:21:10 [ERROR]: Error sending message: Request failed with status code 401 {"stack":"AxiosError: Request failed with status code 401\n    at settle (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:1929:16)\n    at BrotliDecompress.handleStreamEnd (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:3017:181)\n    at BrotliDecompress.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:4086:49)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async WhatsApp.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:734:30)\n    at async MessageModel.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:814:34)\n    at async MessageService.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:859:16)\n    at async MessageController.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:893:29)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-16 16:21:32 [ERROR]: WhatsApp API Error: {"error":{"message":"Error validating access token: The session has been invalidated because the user changed their password or Facebook has changed the session for security reasons.","type":"OAuthException","code":190,"error_subcode":460,"fbtrace_id":"AHrA07XZrnGFU-E5TOUzuNm"}}
2025-11-16 16:21:32 [ERROR]: Error sending message: Request failed with status code 401 {"stack":"AxiosError: Request failed with status code 401\n    at settle (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:1929:16)\n    at BrotliDecompress.handleStreamEnd (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:3017:181)\n    at BrotliDecompress.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:4086:49)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async WhatsApp.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:734:30)\n    at async MessageModel.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:814:34)\n    at async MessageService.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:859:16)\n    at async MessageController.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:893:29)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-16 16:22:01 [ERROR]: WhatsApp API Error: {"error":{"message":"Error validating access token: The session has been invalidated because the user changed their password or Facebook has changed the session for security reasons.","type":"OAuthException","code":190,"error_subcode":460,"fbtrace_id":"A7VcIbdXE0nVqpDPdgGyfHy"}}
2025-11-16 16:22:01 [ERROR]: Error sending message: Request failed with status code 401 {"stack":"AxiosError: Request failed with status code 401\n    at settle (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:1929:16)\n    at BrotliDecompress.handleStreamEnd (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:3017:181)\n    at BrotliDecompress.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:4086:49)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async WhatsApp.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:734:30)\n    at async MessageModel.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:814:34)\n    at async MessageService.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:859:16)\n    at async MessageController.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:893:29)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-16 16:38:50 [ERROR]: WhatsApp API Error: {"error":{"message":"Error validating access token: The session has been invalidated because the user changed their password or Facebook has changed the session for security reasons.","type":"OAuthException","code":190,"error_subcode":460,"fbtrace_id":"A5dN56WXhtaIhQxFIEIkZCj"}}
2025-11-16 16:38:50 [ERROR]: Error sending message: Request failed with status code 401 {"stack":"AxiosError: Request failed with status code 401\n    at settle (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:1929:16)\n    at BrotliDecompress.handleStreamEnd (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:3017:181)\n    at BrotliDecompress.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:4086:49)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async WhatsApp.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:734:30)\n    at async MessageModel.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:814:34)\n    at async MessageService.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:859:16)\n    at async MessageController.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:893:29)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-16 16:39:22 [ERROR]: WhatsApp API Error: {"error":{"message":"Error validating access token: The session has been invalidated because the user changed their password or Facebook has changed the session for security reasons.","type":"OAuthException","code":190,"error_subcode":460,"fbtrace_id":"AvlJMxqAz35KknH20WbhHSO"}}
2025-11-16 16:39:22 [ERROR]: Error sending message: Request failed with status code 401 {"stack":"AxiosError: Request failed with status code 401\n    at settle (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:1929:16)\n    at BrotliDecompress.handleStreamEnd (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:3017:181)\n    at BrotliDecompress.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:4086:49)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async WhatsApp.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:734:30)\n    at async MessageModel.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:814:34)\n    at async MessageService.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:859:16)\n    at async MessageController.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:893:29)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-16 16:46:38 [ERROR]: WhatsApp API Error: {"error":{"message":"Error validating access token: The session has been invalidated because the user changed their password or Facebook has changed the session for security reasons.","type":"OAuthException","code":190,"error_subcode":460,"fbtrace_id":"AW-AFjJdJ2Z2jhkTyz3F68W"}}
2025-11-16 16:46:38 [ERROR]: Error sending message: Request failed with status code 401 {"stack":"AxiosError: Request failed with status code 401\n    at settle (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:1929:16)\n    at BrotliDecompress.handleStreamEnd (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:3017:181)\n    at BrotliDecompress.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:4086:49)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async WhatsApp.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:734:30)\n    at async MessageModel.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:814:34)\n    at async MessageService.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:859:16)\n    at async MessageController.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:893:29)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-16 21:16:59 [ERROR]: WhatsApp API Error: {"error":{"message":"Error validating access token: The session has been invalidated because the user changed their password or Facebook has changed the session for security reasons.","type":"OAuthException","code":190,"error_subcode":460,"fbtrace_id":"AvlLWkuidS1GeDS7ucGtF08"}}
2025-11-16 21:16:59 [ERROR]: Error sending message: Request failed with status code 401 {"stack":"AxiosError: Request failed with status code 401\n    at settle (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:1929:16)\n    at BrotliDecompress.handleStreamEnd (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:3017:181)\n    at BrotliDecompress.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:4086:49)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async WhatsApp.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:734:30)\n    at async MessageModel.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:814:34)\n    at async MessageService.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:859:16)\n    at async MessageController.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:893:29)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-16 21:24:12 [ERROR]: WhatsApp API Error: {"error":{"message":"Error validating access token: The session has been invalidated because the user changed their password or Facebook has changed the session for security reasons.","type":"OAuthException","code":190,"error_subcode":460,"fbtrace_id":"AqqwtuqZRrF4UYedWZxST7h"}}
2025-11-16 21:24:12 [ERROR]: Error sending message: Request failed with status code 401 {"stack":"AxiosError: Request failed with status code 401\n    at settle (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:1929:16)\n    at BrotliDecompress.handleStreamEnd (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:3017:181)\n    at BrotliDecompress.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_axios_lib_c4a55de8._.js:4086:49)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async WhatsApp.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:734:30)\n    at async MessageModel.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:814:34)\n    at async MessageService.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:859:16)\n    at async MessageController.sendMessage (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__094cab0e._.js:893:29)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-18 16:14:09 [ERROR]: WhatsApp API Error: {"error":{"message":"(#132001) Template name does not exist in the translation","type":"OAuthException","code":132001,"error_data":{"messaging_product":"whatsapp","details":"template name (hello_world) does not exist in en"},"fbtrace_id":"A-JHvN7oSkyTjuvhnbiu5u8"}}
2025-11-18 16:14:19 [ERROR]: WhatsApp API Error: {"error":{"message":"(#132001) Template name does not exist in the translation","type":"OAuthException","code":132001,"error_data":{"messaging_product":"whatsapp","details":"template name (hello_world) does not exist in en"},"fbtrace_id":"A1aBHhi6NxfNn7uIQOSF4vs"}}
2025-11-18 16:14:30 [ERROR]: WhatsApp API Error: {"error":{"message":"(#132001) Template name does not exist in the translation","type":"OAuthException","code":132001,"error_data":{"messaging_product":"whatsapp","details":"template name (hello_world) does not exist in en"},"fbtrace_id":"ArKaMz2hH0y9qO27ZvuCyvw"}}
2025-11-18 16:14:41 [ERROR]: WhatsApp API Error: {"error":{"message":"(#132001) Template name does not exist in the translation","type":"OAuthException","code":132001,"error_data":{"messaging_product":"whatsapp","details":"template name (hello_world) does not exist in en"},"fbtrace_id":"AoD3SCMK3_PBC7_TW81SQIi"}}
2025-11-18 16:14:52 [ERROR]: WhatsApp API Error: {"error":{"message":"(#132001) Template name does not exist in the translation","type":"OAuthException","code":132001,"error_data":{"messaging_product":"whatsapp","details":"template name (hello_world) does not exist in en"},"fbtrace_id":"AHHdTS2CRkl5x6QdIMzum47"}}
2025-11-18 16:15:03 [ERROR]: WhatsApp API Error: {"error":{"message":"(#132001) Template name does not exist in the translation","type":"OAuthException","code":132001,"error_data":{"messaging_product":"whatsapp","details":"template name (hello_world) does not exist in en"},"fbtrace_id":"AS_SKUABooy6_7z8Hi6BLiP"}}
2025-11-18 16:15:08 [ERROR]: WhatsApp API Error: {"error":{"message":"(#132001) Template name does not exist in the translation","type":"OAuthException","code":132001,"error_data":{"messaging_product":"whatsapp","details":"template name (hello_world) does not exist in en"},"fbtrace_id":"ABR4XojX2BgdmbOAEr-M7No"}}
2025-11-18 16:15:19 [ERROR]: WhatsApp API Error: {"error":{"message":"(#132001) Template name does not exist in the translation","type":"OAuthException","code":132001,"error_data":{"messaging_product":"whatsapp","details":"template name (hello_world) does not exist in en"},"fbtrace_id":"A6qZIbcteC9s3aTLgGcMXuG"}}
2025-11-18 16:15:30 [ERROR]: WhatsApp API Error: {"error":{"message":"(#132001) Template name does not exist in the translation","type":"OAuthException","code":132001,"error_data":{"messaging_product":"whatsapp","details":"template name (hello_world) does not exist in en"},"fbtrace_id":"APNVmz4ESenWMHN5lhB5mtz"}}
2025-11-18 17:43:10 [ERROR]: WhatsApp API Error: {"error":{"message":"Invalid OAuth access token - Cannot parse access token","type":"OAuthException","code":190,"fbtrace_id":"A_ah9AOn7Oh95zpjdhXVpPx"}}
2025-11-18 17:43:20 [ERROR]: WhatsApp API Error: {"error":{"message":"Invalid OAuth access token - Cannot parse access token","type":"OAuthException","code":190,"fbtrace_id":"APMJnnToo3nz-TAqmxaGLHP"}}
2025-11-18 17:43:34 [ERROR]: WhatsApp API Error: {"error":{"message":"Invalid OAuth access token - Cannot parse access token","type":"OAuthException","code":190,"fbtrace_id":"AvDp3JDbfWIdfLD9gNsGG5W"}}
2025-11-18 17:44:30 [ERROR]: WhatsApp API Error: {"error":{"message":"Invalid OAuth access token - Cannot parse access token","type":"OAuthException","code":190,"fbtrace_id":"Af3FRjF4DXOgKhbune69o99"}}
2025-11-18 17:44:40 [ERROR]: WhatsApp API Error: {"error":{"message":"Invalid OAuth access token - Cannot parse access token","type":"OAuthException","code":190,"fbtrace_id":"A96Mx6p4sRuTKyhoaG22v4I"}}
2025-11-18 17:44:51 [ERROR]: WhatsApp API Error: {"error":{"message":"Invalid OAuth access token - Cannot parse access token","type":"OAuthException","code":190,"fbtrace_id":"A67ks0knPF2BSX-ql26h4EP"}}
2025-11-18 17:45:01 [ERROR]: WhatsApp API Error: {"error":{"message":"Invalid OAuth access token - Cannot parse access token","type":"OAuthException","code":190,"fbtrace_id":"AzYmGpv-temqvLffKnD7Q8f"}}
2025-11-18 17:45:14 [ERROR]: WhatsApp API Error: {"error":{"message":"Invalid OAuth access token - Cannot parse access token","type":"OAuthException","code":190,"fbtrace_id":"AX5v0orfEo2YxYkranOlth6"}}
2025-11-18 17:45:24 [ERROR]: WhatsApp API Error: {"error":{"message":"Invalid OAuth access token - Cannot parse access token","type":"OAuthException","code":190,"fbtrace_id":"AfgvEOvApGfAi3CJe0ftudL"}}
2025-11-18 18:01:39 [ERROR]: WhatsApp API Error: {"error":{"message":"(#132001) Template name does not exist in the translation","type":"OAuthException","code":132001,"error_data":{"messaging_product":"whatsapp","details":"template name (hello_world) does not exist in en"},"fbtrace_id":"A-yJyU3WDF4D0D96_XjS-q7"}}
2025-11-18 18:01:54 [ERROR]: WhatsApp API Error: {"error":{"message":"(#132001) Template name does not exist in the translation","type":"OAuthException","code":132001,"error_data":{"messaging_product":"whatsapp","details":"template name (hello_world) does not exist in en"},"fbtrace_id":"AXvpLcJVgMs17t8v1INbpxb"}}
2025-11-18 18:02:05 [ERROR]: WhatsApp API Error: {"error":{"message":"(#132001) Template name does not exist in the translation","type":"OAuthException","code":132001,"error_data":{"messaging_product":"whatsapp","details":"template name (hello_world) does not exist in en"},"fbtrace_id":"ARcSRgYJ7A9VXGGWXOLPGwj"}}
2025-11-18 18:02:16 [ERROR]: WhatsApp API Error: {"error":{"message":"(#132001) Template name does not exist in the translation","type":"OAuthException","code":132001,"error_data":{"messaging_product":"whatsapp","details":"template name (hello_world) does not exist in en"},"fbtrace_id":"AhcPkkMG6KZRt34jl_YTJ1s"}}
2025-11-19 11:01:34 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:940:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:984:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:01:38 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:940:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:984:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:01:42 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:940:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:984:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:01:46 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:01:50 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:01:54 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:01:58 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:02:02 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:02:06 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:02:10 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:02:14 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:02:18 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:02:22 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:02:26 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:02:30 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:02:34 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:02:38 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:02:42 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:02:46 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:02:47 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:03:16 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:08:37 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at process.processImmediate (node:internal/timers:453:9)\n    at process.callbackTrampoline (node:internal/async_hooks:130:17)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:08:37 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:08:46 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-11-19 11:08:56 [ERROR]: Error fetching messages: desc is not defined {"stack":"ReferenceError: desc is not defined\n    at MessageModel.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:841:22)\n    at MessageService.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:915:40)\n    at MessageController.getMessages (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:944:56)\n    at GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__a83eaf88._.js:988:30)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 20:18:32 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ekxpgz92gnd2blm7xrizcxfx,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ekxpgz92gnd2blm7xrizcxfx","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xrizcxfx' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ekxpgz92gnd2blm7xrizcxfx,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 0)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 20:18:42 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: prylcf9f6f2vw631cuixsm7l,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["prylcf9f6f2vw631cuixsm7l","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cu' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cuixsm7l' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cu' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: prylcf9f6f2vw631cuixsm7l,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 1)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 20:18:53 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: prylcf9f6f2vw631cuixsm7l,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["prylcf9f6f2vw631cuixsm7l","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cu' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cuixsm7l' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cu' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: prylcf9f6f2vw631cuixsm7l,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 1)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 20:19:29 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: prylcf9f6f2vw631cuixsm7l,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["prylcf9f6f2vw631cuixsm7l","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cu' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cuixsm7l' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cu' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: prylcf9f6f2vw631cuixsm7l,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 1)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 20:21:14 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ijep62e405ra8zssvmwds9o2,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ijep62e405ra8zssvmwds9o2","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ijep62e405ra8zssvm' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ijep62e405ra8zssvmwds9o2' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ijep62e405ra8zssvm' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ijep62e405ra8zssvmwds9o2,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 2)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 20:22:55 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ekxpgz92gnd2blm7xrizcxfx,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ekxpgz92gnd2blm7xrizcxfx","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xrizcxfx' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ekxpgz92gnd2blm7xrizcxfx,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 0)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 20:28:54 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ekxpgz92gnd2blm7xrizcxfx,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ekxpgz92gnd2blm7xrizcxfx","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xrizcxfx' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ekxpgz92gnd2blm7xrizcxfx,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 0)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 20:37:58 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: xy2qz2sufh25tz9o4lw9z03c,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["xy2qz2sufh25tz9o4lw9z03c","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'xy2qz2sufh25tz9o4l' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'xy2qz2sufh25tz9o4lw9z03c' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'xy2qz2sufh25tz9o4l' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: xy2qz2sufh25tz9o4lw9z03c,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 5)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 20:38:09 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ekxpgz92gnd2blm7xrizcxfx,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ekxpgz92gnd2blm7xrizcxfx","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xrizcxfx' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ekxpgz92gnd2blm7xrizcxfx,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 0)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 20:38:30 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: prylcf9f6f2vw631cuixsm7l,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["prylcf9f6f2vw631cuixsm7l","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cu' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cuixsm7l' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cu' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: prylcf9f6f2vw631cuixsm7l,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 1)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 20:39:06 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ekxpgz92gnd2blm7xrizcxfx,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ekxpgz92gnd2blm7xrizcxfx","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xrizcxfx' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ekxpgz92gnd2blm7xrizcxfx,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 0)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 20:40:42 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: prylcf9f6f2vw631cuixsm7l,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["prylcf9f6f2vw631cuixsm7l","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cu' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cuixsm7l' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cu' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: prylcf9f6f2vw631cuixsm7l,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 1)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 20:42:28 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ekxpgz92gnd2blm7xrizcxfx,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ekxpgz92gnd2blm7xrizcxfx","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xrizcxfx' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ekxpgz92gnd2blm7xrizcxfx,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 0)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 20:48:59 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: prylcf9f6f2vw631cuixsm7l,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["prylcf9f6f2vw631cuixsm7l","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cu' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cuixsm7l' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cu' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: prylcf9f6f2vw631cuixsm7l,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 1)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:00:46 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ekxpgz92gnd2blm7xrizcxfx,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ekxpgz92gnd2blm7xrizcxfx","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xrizcxfx' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ekxpgz92gnd2blm7xrizcxfx,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 0)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:02:27 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ekxpgz92gnd2blm7xrizcxfx,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ekxpgz92gnd2blm7xrizcxfx","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xrizcxfx' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ekxpgz92gnd2blm7xrizcxfx,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 0)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:02:41 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: prylcf9f6f2vw631cuixsm7l,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["prylcf9f6f2vw631cuixsm7l","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cu' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cuixsm7l' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cu' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: prylcf9f6f2vw631cuixsm7l,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 1)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:03:00 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ekxpgz92gnd2blm7xrizcxfx,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ekxpgz92gnd2blm7xrizcxfx","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xrizcxfx' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ekxpgz92gnd2blm7xrizcxfx,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 0)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:03:52 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ekxpgz92gnd2blm7xrizcxfx,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ekxpgz92gnd2blm7xrizcxfx","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xrizcxfx' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ekxpgz92gnd2blm7xrizcxfx,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 0)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:05:18 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: prylcf9f6f2vw631cuixsm7l,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["prylcf9f6f2vw631cuixsm7l","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cu' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cuixsm7l' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cu' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: prylcf9f6f2vw631cuixsm7l,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 1)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:09:11 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ekxpgz92gnd2blm7xrizcxfx,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ekxpgz92gnd2blm7xrizcxfx","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xrizcxfx' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ekxpgz92gnd2blm7xrizcxfx,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 0)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:10:45 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"read ECONNRESET","code":"ECONNRESET","errno":-4077},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:699:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:13:08 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: xy2qz2sufh25tz9o4lw9z03c,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["xy2qz2sufh25tz9o4lw9z03c","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'xy2qz2sufh25tz9o4l' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'xy2qz2sufh25tz9o4lw9z03c' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'xy2qz2sufh25tz9o4l' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: xy2qz2sufh25tz9o4lw9z03c,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 5)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:19:26 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ekxpgz92gnd2blm7xrizcxfx,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ekxpgz92gnd2blm7xrizcxfx","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xrizcxfx' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ekxpgz92gnd2blm7xrizcxfx,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 0)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:19:32 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ekxpgz92gnd2blm7xrizcxfx,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ekxpgz92gnd2blm7xrizcxfx","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xrizcxfx' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ekxpgz92gnd2blm7xrizcxfx,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 0)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:19:43 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ijep62e405ra8zssvmwds9o2,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ijep62e405ra8zssvmwds9o2","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ijep62e405ra8zssvm' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ijep62e405ra8zssvmwds9o2' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ijep62e405ra8zssvm' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ijep62e405ra8zssvmwds9o2,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 2)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:20:38 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: t8wajnhenxit8xdkjoenwast,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["t8wajnhenxit8xdkjoenwast","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 't8wajnhenxit8xdkjo' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 't8wajnhenxit8xdkjoenwast' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 't8wajnhenxit8xdkjo' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: t8wajnhenxit8xdkjoenwast,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 3)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:22:04 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ekxpgz92gnd2blm7xrizcxfx,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ekxpgz92gnd2blm7xrizcxfx","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xrizcxfx' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ekxpgz92gnd2blm7xrizcxfx,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 0)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:24:21 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ekxpgz92gnd2blm7xrizcxfx,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ekxpgz92gnd2blm7xrizcxfx","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xrizcxfx' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ekxpgz92gnd2blm7xrizcxfx,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 0)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:27:26 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ijep62e405ra8zssvmwds9o2,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ijep62e405ra8zssvmwds9o2","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ijep62e405ra8zssvm' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ijep62e405ra8zssvmwds9o2' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ijep62e405ra8zssvm' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ijep62e405ra8zssvmwds9o2,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 2)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:28:55 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: prylcf9f6f2vw631cuixsm7l,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["prylcf9f6f2vw631cuixsm7l","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cu' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cuixsm7l' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cu' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: prylcf9f6f2vw631cuixsm7l,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async Promise.all (index 1)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:666:54\n    at async Promise.all (index 1)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:717:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:829:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:33:26 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ekxpgz92gnd2blm7xrizcxfx,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ekxpgz92gnd2blm7xrizcxfx","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xrizcxfx' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ekxpgz92gnd2blm7xrizcxfx,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:663:39\n    at async Promise.all (index 0)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:713:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:825:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:33:36 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: prylcf9f6f2vw631cuixsm7l,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["prylcf9f6f2vw631cuixsm7l","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cu' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cuixsm7l' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'prylcf9f6f2vw631cu' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: prylcf9f6f2vw631cuixsm7l,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:663:39\n    at async Promise.all (index 1)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:713:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:825:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:33:57 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: t8wajnhenxit8xdkjoenwast,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["t8wajnhenxit8xdkjoenwast","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 't8wajnhenxit8xdkjo' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 't8wajnhenxit8xdkjoenwast' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 't8wajnhenxit8xdkjo' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: t8wajnhenxit8xdkjoenwast,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:663:39\n    at async Promise.all (index 3)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:713:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:825:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:34:35 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"read ECONNRESET","code":"ECONNRESET","errno":-4077},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:699:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:34:38 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"read ECONNRESET","code":"ECONNRESET","errno":-4077},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:699:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:34:38 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"read ECONNRESET","code":"ECONNRESET","errno":-4077},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:699:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:34:38 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"read ECONNRESET","code":"ECONNRESET","errno":-4077},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:699:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:34:38 [ERROR]: Error fetching chats: Failed query: select `contact_id` from `contacts`
params:  {"query":"select `contact_id` from `contacts`","params":[],"cause":{"message":"connect ETIMEDOUT","code":"ETIMEDOUT"},"stack":"Error: Failed query: select `contact_id` from `contacts`\nparams: \n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:629:34)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:713:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:825:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:34:48 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"connect ETIMEDOUT","code":"ETIMEDOUT"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:699:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:34:58 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"connect ETIMEDOUT","code":"ETIMEDOUT"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:699:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:34:58 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"connect ETIMEDOUT","code":"ETIMEDOUT"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:699:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:35:08 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"connect ETIMEDOUT","code":"ETIMEDOUT"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:699:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:35:08 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"connect ETIMEDOUT","code":"ETIMEDOUT"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:699:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:35:18 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"connect ETIMEDOUT","code":"ETIMEDOUT"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:699:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:35:45 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"connect ETIMEDOUT","code":"ETIMEDOUT"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:699:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:36:10 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ekxpgz92gnd2blm7xrizcxfx,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ekxpgz92gnd2blm7xrizcxfx","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xrizcxfx' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ekxpgz92gnd2blm7xrizcxfx,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:663:39\n    at async Promise.all (index 0)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:713:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:825:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:39:22 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: ekxpgz92gnd2blm7xrizcxfx,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["ekxpgz92gnd2blm7xrizcxfx","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xrizcxfx' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'ekxpgz92gnd2blm7xr' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: ekxpgz92gnd2blm7xrizcxfx,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:663:39\n    at async Promise.all (index 0)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:713:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:825:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 21:42:08 [ERROR]: Error fetching chats: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)
params: hj6luxb3rcsdg2lg7sx1qvfz,incoming,pending {"query":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)","params":["hj6luxb3rcsdg2lg7sx1qvfz","incoming","pending"],"cause":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'hj6luxb3rcsdg2lg7s' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sql":"select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = 'hj6luxb3rcsdg2lg7sx1qvfz' and `chat_messages`.`direction` = 'incoming' and `chat_messages`.`status` = 'pending')","sqlState":"42000","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) from `chat_messages` where (`chat_messages`.`chat_id` = 'hj6luxb3rcsdg2lg7s' at line 1"},"stack":"Error: Failed query: select cast(count(*) as int) from `chat_messages` where (`chat_messages`.`chat_id` = ? and `chat_messages`.`direction` = ? and `chat_messages`.`status` = ?)\nparams: hj6luxb3rcsdg2lg7sx1qvfz,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:663:39\n    at async Promise.all (index 4)\n    at async ChatModel.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:656:38)\n    at async ChatService.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:713:16)\n    at async ChatController.getChats (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__2cb439c2._.js:825:27)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-09 22:54:06 [ERROR]: Chat ID missing in request params 
2025-12-09 22:54:12 [ERROR]: Chat ID missing in request params 
2025-12-09 22:55:37 [ERROR]: Chat ID missing in request params 
2025-12-10 00:05:11 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:05:12 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:05:27 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:05:28 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:05:28 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:05:31 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:05:54 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:05:55 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:05:56 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:05:56 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:05:57 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9dcf23ca._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:06:08 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:06:09 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:06:12 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:06:25 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:06:25 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:06:27 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:06:38 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:06:38 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:06:42 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:07:35 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:08:35 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:09:35 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:09:40 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:09:42 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:09:46 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:09:51 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:09:56 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:10:01 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:10:07 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:10:12 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:10:17 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:10:22 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:10:27 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:10:32 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:10:37 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:10:42 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:10:47 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:10:52 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
2025-12-10 00:10:57 [ERROR]: Error fetching unread messages Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc
params: 1,1,incoming,pending {"query":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc","params":[1,1,"incoming","pending"],"cause":{"message":"Unknown column 'chatMessages.is_template_message' in 'field list'","code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit 1) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit 1) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = 'incoming' and `chatMessages`.`status` = 'pending') order by `chatMessages`.`created_at` desc","sqlState":"42S22","sqlMessage":"Unknown column 'chatMessages.is_template_message' in 'field list'"},"stack":"Error: Failed query: select `chatMessages`.`id`, `chatMessages`.`chat_id`, `chatMessages`.`wamid`, `chatMessages`.`content`, `chatMessages`.`direction`, `chatMessages`.`status`, `chatMessages`.`is_template_message`, `chatMessages`.`message_timestamp`, `chatMessages`.`created_at`, `chatMessages`.`updated_at`, `chatMessages_chat`.`data` as `chat` from `chat_messages` `chatMessages` left join lateral (select json_array(`chatMessages_chat`.`id`, `chatMessages_chat`.`contact_id`, `chatMessages_chat`.`assigned_to`, `chatMessages_chat`.`status`, `chatMessages_chat`.`last_user_message_at`, `chatMessages_chat`.`created_at`, `chatMessages_chat`.`updated_at`, `chatMessages_chat_contact`.`data`) as `data` from (select * from `chats` `chatMessages_chat` where `chatMessages_chat`.`id` = `chatMessages`.`chat_id` limit ?) `chatMessages_chat` left join lateral (select json_array(`chatMessages_chat_contact`.`contact_id`, `chatMessages_chat_contact`.`name`, `chatMessages_chat_contact`.`phonenumber`, `chatMessages_chat_contact`.`email`, `chatMessages_chat_contact`.`label`, `chatMessages_chat_contact`.`assigned_to_user_id`, `chatMessages_chat_contact`.`created_at`, `chatMessages_chat_contact`.`updated_at`) as `data` from (select * from `contacts` `chatMessages_chat_contact` where `chatMessages_chat_contact`.`contact_id` = `chatMessages_chat`.`contact_id` limit ?) `chatMessages_chat_contact`) `chatMessages_chat_contact` on true) `chatMessages_chat` on true where (`chatMessages`.`direction` = ? and `chatMessages`.`status` = ?) order by `chatMessages`.`created_at` desc\nparams: 1,1,incoming,pending\n    at MySql2PreparedQuery.queryWithCache (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9332:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySql2PreparedQuery.execute (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\node_modules_drizzle-orm_9042b0b1._.js:9524:24)\n    at async GET (C:\\Users\\USER\\Desktop\\NextJs\\.next\\server\\chunks\\[root-of-the-server]__9d96da8b._.js:701:32)\n    at async AppRouteRouteModule.do (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1920:28)\n    at async DevServer.renderPageComponent (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:2445:32)\n    at async DevServer.pipeImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\next-server.js:305:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\base-server.js:900:17)\n    at async C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:237:21)\n    at async handleRequest (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:428:24)\n    at async requestHandlerImpl (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\router-server.js:452:13)\n    at async Server.requestListener (C:\\Users\\USER\\Desktop\\NextJs\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)"}
